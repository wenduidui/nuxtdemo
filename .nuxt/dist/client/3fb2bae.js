(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{181:function(t,e,r){"use strict";r.d(e,"g",(function(){return o})),r.d(e,"c",(function(){return c})),r.d(e,"k",(function(){return l})),r.d(e,"d",(function(){return f})),r.d(e,"j",(function(){return d})),r.d(e,"b",(function(){return m})),r.d(e,"f",(function(){return v})),r.d(e,"h",(function(){return h})),r.d(e,"i",(function(){return _})),r.d(e,"a",(function(){return w})),r.d(e,"e",(function(){return O}));var n=r(58),o=function(t){return Object(n.b)({method:"GET",url:"/api/articles",params:t})},c=function(data){return Object(n.b)({method:"POST",url:"/api/articles",data:data})},l=function(t){return Object(n.b)({method:"PUT",url:"/api/articles/".concat(t.slug),data:{article:t.article}})},f=function(t){return Object(n.b)({method:"DELETE",url:"/api/articles/".concat(t)})},d=function(t){return Object(n.b)({method:"GET",url:"/api/articles/feed",params:t})},m=function(t){return Object(n.b)({method:"POST",url:"/api/articles/".concat(t,"/favorite")})},v=function(t){return Object(n.b)({method:"DELETE",url:"/api/articles/".concat(t,"/favorite")})},h=function(t){return Object(n.b)({method:"GET",url:"/api/articles/".concat(t)})},_=function(t){return Object(n.b)({method:"GET",url:"/api/articles/".concat(t,"/comments")})},w=function(data,t){return Object(n.b)({method:"POST",url:"/api/articles/".concat(t,"/comments"),data:data})},O=function(t,e){return Object(n.b)({method:"DELETE",url:"/api/articles/".concat(e,"/comments/").concat(t)})}},182:function(t,e,r){"use strict";r.d(e,"b",(function(){return o})),r.d(e,"c",(function(){return c})),r.d(e,"e",(function(){return l})),r.d(e,"f",(function(){return f})),r.d(e,"a",(function(){return d})),r.d(e,"d",(function(){return m}));var n=r(58),o=function(data){return Object(n.b)({method:"POST",url:"/api/users/login",data:data})},c=function(t){return Object(n.b)({method:"POST",url:"/api/users",params:t})},l=function(data){return Object(n.b)({method:"PUT",url:"/api/user",data:data})},f=function(t){return Object(n.b)({method:"GET",url:"/api/profiles/".concat(t)})},d=function(t){return Object(n.b)({method:"POST",url:"/api/profiles/".concat(t,"/follow")})},m=function(t){return Object(n.b)({method:"DELETE",url:"/api/profiles/".concat(t,"/follow")})}},260:function(t,e,r){"use strict";r.r(e);r(20);var n=r(2),o=r(182),c=r(181),l={middleware:"authenticated",name:"UserProfile",data:function(){return{profile:"",favorited:"",author:"",tabType:"",articles:"",articlesCount:0}},mounted:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.f)(t.$route.params.username);case 2:r=e.sent,data=r.data,t.profile=data.profile,t.profile.followDisabled=!1,t.getArticle();case 7:case"end":return e.stop()}}),e)})))()},methods:{getArticle:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n,data,o,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.$route.params.favorited,1,20,e.next=5,Object(c.g)({limit:20,offset:0,author:r?null:t.$route.params.username,favorited:r?t.$route.params.username:null});case 5:n=e.sent,data=n.data,o=data.articles,l=data.articlesCount,o.forEach((function(article){return article.favoriteDisabled=!1})),t.articles=o,t.articlesCount=l;case 11:case"end":return e.stop()}}),e)})))()},onFavorite:function(article){return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(article.favoriteDisabled=!0,!article.favorited){t.next=8;break}return t.next=4,Object(c.f)(article.slug);case 4:article.favorited=!1,article.favoritesCount+=-1,t.next=12;break;case 8:return t.next=10,Object(c.b)(article.slug);case 10:article.favorited=!0,article.favoritesCount+=1;case 12:article.favoriteDisabled=!1;case 13:case"end":return t.stop()}}),t)})))()},onFollow:function(article){return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(article.followDisabled=!0,!article.following){t.next=7;break}return t.next=4,Object(o.d)(article.username);case 4:article.following=!1,t.next=10;break;case 7:return t.next=9,Object(o.a)(article.username);case 9:article.following=!0;case 10:article.followDisabled=!1;case 11:case"end":return t.stop()}}),t)})))()}}},f=r(21),component=Object(f.a)(l,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"profile-page"},[r("div",{staticClass:"user-info"},[r("div",{staticClass:"container"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-xs-12 col-md-10 offset-md-1"},[r("img",{staticClass:"user-img",attrs:{src:t.profile.image}}),t._v(" "),r("h4",[t._v(t._s(t.profile.username))]),t._v(" "),r("p",[t._v("\n            "+t._s(t.profile.bio)+"\n          ")]),t._v(" "),r("button",{staticClass:"btn btn-sm btn-outline-secondary action-btn",class:{active:t.profile.following},attrs:{disabled:t.profile.followDisabled},on:{click:function(e){return t.onFollow(t.profile)}}},[r("i",{staticClass:"ion-plus-round"}),t._v("\n        Â \n        "+t._s(t.profile.following?"Unfollow":"Follow")+" "+t._s(t.profile.username)+" "),r("span",{staticClass:"counter"})])])])])]),t._v(" "),r("div",{staticClass:"container"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-xs-12 col-md-10 offset-md-1"},[r("div",{staticClass:"articles-toggle"},[r("ul",{staticClass:"nav nav-pills outline-active"},[r("li",{staticClass:"nav-item"},[r("nuxt-link",{staticClass:"nav-link",class:{active:"author"===t.tabType},attrs:{exact:"",to:{name:"profile"}},nativeOn:{click:function(e){return t.getArticle(e)}}},[t._v("My Articles")])],1),t._v(" "),r("li",{staticClass:"nav-item"},[r("nuxt-link",{staticClass:"nav-link",class:{active:"favorited"===t.tabType},attrs:{exact:"",to:{name:"profile",params:{favorited:"favorites"}}},nativeOn:{click:function(e){return t.getArticle(e)}}},[t._v("Favorited Articles")])],1)])]),t._v(" "),t._l(t.articles,(function(article){return r("div",{key:article.slug,staticClass:"article-preview"},[r("div",{staticClass:"article-meta"},[r("nuxt-link",{attrs:{to:{name:"profile",params:{username:article.author.username}}}},[r("img",{attrs:{src:article.author.image}})]),t._v(" "),r("div",{staticClass:"info"},[r("nuxt-link",{attrs:{to:{name:"profile",params:{username:article.author.username}}}},[t._v(t._s(article.author.username))]),t._v(" "),r("span",{staticClass:"date"},[t._v(t._s(t._f("date")(article.createdAt,"MMM DD, YYYY")))])],1),t._v(" "),r("button",{staticClass:"btn btn-outline-primary btn-sm pull-xs-right",class:{active:article.favorited},attrs:{disabled:article.favoriteDisabled},on:{click:function(e){return t.onFavorite(article)}}},[r("i",{staticClass:"ion-heart"}),t._v(" "+t._s(article.favoritesCount)+"\n              ")])],1),t._v(" "),t._m(0,!0)])}))],2)])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"preview-link",attrs:{href:""}},[e("h1",[this._v("How to build webapps that scale")]),this._v(" "),e("p",[this._v("This is the description for the post.")]),this._v(" "),e("span",[this._v("Read more...")])])}],!1,null,null,null);e.default=component.exports}}]);